#!/bin/bash
#set -e
##################################################################################################################
# Author    : Erik Dubois
# Website   : https://www.erikdubois.be
# Website   : https://www.alci.online
# Website   : https://www.arcolinux.info
# Website   : https://www.arcolinux.com
# Website   : https://www.arcolinuxd.com
# Website   : https://www.arcolinuxb.com
# Website   : https://www.arcolinuxiso.com
# Website   : https://www.arcolinuxforum.com
##################################################################################################################
#
#   DO NOT JUST RUN THIS. EXAMINE AND JUDGE. RUN AT YOUR OWN RISK.
#
##################################################################################################################
#tput setaf 0 = black 
#tput setaf 1 = red 
#tput setaf 2 = green
#tput setaf 3 = yellow 
#tput setaf 4 = dark blue 
#tput setaf 5 = purple
#tput setaf 6 = cyan 
#tput setaf 7 = gray 
#tput setaf 8 = light blue
##################################################################################################################

echo "###############################################################################"
echo "###  THIS IS A TEST SCRIPT TO REMOVE ALL THE COMMON LINUX KERNELS BUT ONE  ####"
echo "###############################################################################"

#!/bin/bash

# Define all the kernels and their headers you want to remove
KERNELS_TO_REMOVE=(
     linux-lts-headers linux-lts
     linux-zen-headers linux-zen
     linux-hardened-headers linux-hardened
     linux-rt-headers linux-rt
     linux-rt-lts-headers linux-rt-lts
     linux-cachyos-headers linux-cachyos
     linux-xanmod-headers linux-xanmod
)
remove_package() {
    local package=$1
    # Check if the package is installed
    if pacman -Q $package &> /dev/null; then
        echo "$package is installed. Removing..."
        sudo pacman -Rns --noconfirm $package
    else
        echo "$package is not installed."
    fi
}

# Loop over the array and remove each kernel package
for kernel in "${KERNELS_TO_REMOVE[@]}"; do
    remove_package "$kernel"
done



echo
echo "###############################################################################"
echo "###                DONE - YOU CAN CLOSE THIS WINDOW                        ####"
echo "###############################################################################"