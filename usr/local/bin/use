#!/bin/bash
#set -e
##################################################################################################################
# Author    : Erik Dubois
# Website   : https://www.erikdubois.be
# Website   : https://www.alci.online
# Website   : https://www.arcolinux.info
# Website   : https://www.arcolinux.com
# Website   : https://www.arcolinuxd.com
# Website   : https://www.arcolinuxb.com
# Website   : https://www.arcolinuxiso.com
# Website   : https://www.arcolinuxforum.com
##################################################################################################################
#
#   DO NOT JUST RUN THIS. EXAMINE AND JUDGE. RUN AT YOUR OWN RISK.
#
##################################################################################################################
#tput setaf 0 = black 
#tput setaf 1 = red 
#tput setaf 2 = green
#tput setaf 3 = yellow 
#tput setaf 4 = dark blue 
#tput setaf 5 = purple
#tput setaf 6 = cyan 
#tput setaf 7 = gray 
#tput setaf 8 = light blue
##################################################################################################################
clear
tput setaf 9
echo "----------------------------------------------------"
tput sgr0;echo "Iso";tput setaf 9
echo "----------------------------------------------------"
cat /etc/dev-rel
echo "----------------------------------------------------"
tput sgr0;echo "BIOS OR UEFI";tput setaf 9
echo "----------------------------------------------------"
if [ -d /sys/firmware/efi ]; then
    echo "uefi"
else
    echo "bios"
fi
echo "----------------------------------------------------"
tput sgr0;echo "X11 sessions";tput setaf 9
echo "----------------------------------------------------"
ls /usr/share/xsessions
echo "----------------------------------------------------"
tput sgr0;echo "Wayland sessions";tput setaf 9
echo "----------------------------------------------------"
ls /usr/share/wayland-sessions
echo "----------------------------------------------------"
tput sgr0;echo "Boot system";tput setaf 9
echo "----------------------------------------------------"
cat /bootloader
echo "----------------------------------------------------"
tput sgr0;echo "Kernels";tput setaf 9
echo "----------------------------------------------------"
ls /usr/lib/modules
echo "----------------------------------------------------"
tput sgr0;echo "Kernel in use";tput setaf 9
echo "----------------------------------------------------"
cat /proc/version
echo "----------------------------------------------------"
tput sgr0
# List of potential display managers
display_managers=("sddm" "lxdm" "gdm" "lightdm" "ly")

# Loop through each display manager and check its status
for dm in "${display_managers[@]}"; do
    if systemctl is-active --quiet "$dm"; then
        echo "Active Display Manager:"
		tput setaf 9;echo "----------------------------------------------------"
        echo $dm
		echo "----------------------------------------------------";tput sgr0        
        exit 0
    fi
done

duf

echo
echo "###############################################################################"
echo "###                DONE - YOU CAN CLOSE THIS WINDOW                        ####"
echo "###############################################################################"
